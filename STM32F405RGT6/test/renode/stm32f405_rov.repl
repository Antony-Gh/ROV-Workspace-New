// Renode Platform Description for STM32F405RGT6 ROV
// This file describes the hardware configuration for emulation

cpu: CPU.CortexM @ sysbus
    cpuType: "cortex-m4f"
    nvic: nvic

nvic: IRQControllers.NVIC @ sysbus 0xE000E000
    priorityMask: 0xF0
    systickFrequency: 168000000
    -> cpu@0

flash: Memory.MappedMemory @ sysbus 0x08000000
    size: 0x100000  // 1MB Flash

sram: Memory.MappedMemory @ sysbus 0x20000000
    size: 0x20000   // 128KB SRAM

ccmram: Memory.MappedMemory @ sysbus 0x10000000
    size: 0x10000   // 64KB CCM RAM

// RCC (Reset and Clock Control)
rcc: Miscellaneous.STM32F4_RCC @ sysbus 0x40023800

// UART2 for MAVLink communication
usart2: UART.STM32_UART @ sysbus 0x40004400
    -> nvic@38

// UART6 for debug
usart6: UART.STM32_UART @ sysbus 0x40011400
    -> nvic@71

// I2C1 for sensors (MPU6050, Pressure Sensor)
i2c1: I2C.STM32F4_I2C @ sysbus 0x40005400
    -> nvic@31

// TIM1 for PWM (Motors 0-3)
timer1: Timers.STM32_Timer @ sysbus 0x40010000
    frequency: 84000000
    -> nvic@25

// TIM2 for PWM
timer2: Timers.STM32_Timer @ sysbus 0x40000000
    frequency: 84000000
    -> nvic@28

// SysTick for FreeRTOS
